<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="clasehibernate" default-lazy="false">
    <!--Tabla por JerarquÃ­a de Clases
    <class name="Producto" table="producto">        
        <id name="id" type="java.lang.Integer">
            <column name="id"/>
            <generator class="identity"/>
        </id>
        <discriminator column="DISC" type="string" />
        <property name="codigo" type="string" >
            <column length="10" name="codigo"/>
        </property>
        <property name="descripcion" type="string" >
            <column length="50" name="descripcion"/>
        </property>
        <many-to-one column="marcaId" name="marca" cascade="all"   />
        <subclass name="Heladera" discriminator-value="hel" >
            <property name="capacidad"/>
            <property name="freezer"/>
        </subclass>
        <subclass name="Televisor" discriminator-value="tv" >
            <property name="pantalla"/>
            <property name="smart"/>
        </subclass>
    </class>-->

    <!--UNA TABLA PARA CADA SUBCLASE (JOINS)   
    <class name="Producto" table="producto">        
        <id name="id" type="java.lang.Integer">
            <column name="id"/>
            <generator class="identity"/>
        </id>
        <property name="codigo" type="string" >
            <column length="10" name="codigo"/>
        </property>
        <property name="descripcion" type="string" >
            <column length="50" name="descripcion"/>
        </property>

        <many-to-one column="marcaId" name="marca" cascade="all"  />
        
        <joined-subclass name="Heladera" table="heladera" >
            <key column="id"  />
            <property name="capacidad"/>
            <property name="freezer"/>
        </joined-subclass>
        
        <joined-subclass name="Televisor" table="televisor" >
            <key column="id"  />
            <property name="pantalla"/>
            <property name="smart"/>
        </joined-subclass>
    </class>     -->
    
    <!--Una Tabla por cada Clase Concreta (uniones)-->
    <class name="Producto" >        
        <id name="id" type="java.lang.Integer">
            <column name="id"/>
            <generator class="increment"/>
        </id>
        <property name="codigo" type="string" >
            <column length="10" name="codigo"/>
        </property>
        <property name="descripcion" type="string" >
            <column length="50" name="descripcion"/>
        </property>
        <many-to-one column="marcaId" name="marca" cascade="all"  />
        
        <union-subclass name="Heladera" table="heladera" >            
            <property name="capacidad"/>
            <property name="freezer"/>
        </union-subclass>
        
        <union-subclass name="Televisor" table="televisor" >
            
            <property name="pantalla"/>
            <property name="smart"/>
        </union-subclass>
    </class>   
</hibernate-mapping>
